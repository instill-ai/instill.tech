import { FC, useEffect, useRef } from "react";
import { SvgBase } from "./SvgBase";
import { gsap } from "gsap";

interface Props {
  styleName?: string;
}

export const HeroAnimationSvg: FC<Props> = ({ styleName }) => {
  const cube = useRef();
  const q = gsap.utils.selector(cube);

  useEffect(() => {
    const animations = [
      {
        id: "#cubeA1",
        x: "93px",
        y: "-61px",
      },
      {
        id: "#cubeA2",
        x: "67px",
        y: "-15px",
      },
      {
        id: "#cubeA3",
        x: "-38px",
        y: "16px",
      },
      {
        id: "#cubeA4",
        x: "-38px",
        y: "76px",
      },
      {
        id: "#cubeA5",
        x: "93px",
        y: "61px",
      },
      {
        id: "#cubeA6",
        x: "-11px",
        y: "-31px",
      },
      {
        id: "#cubeA7",
        x: "-92px",
        y: "15px",
      },
      {
        id: "#cubeA8",
        x: "-65px",
        y: "-30px",
      },
    ];
    const getGSAPMovingAnimation = (id: string, endX: string, endY: string) => {
      return gsap.to(q(id), {
        keyframes: {
          "0%": {
            opacity: 0,
            x: 0,
            y: 0,
          },
          "50%": {
            opacity: 1,
            x: endX,
            y: endY,
          },
          "80%": {
            opacity: 1,
            x: endX,
            y: endY,
          },
          "100%": {
            opacity: 1,
            x: endX,
            y: endY,
          },
        },
        transformOrigin: "top right",
        repeat: -1,
        duration: 5,
      });
    };

    for (const animation of animations) {
      getGSAPMovingAnimation(animation.id, animation.x, animation.y);
    }

    gsap.to(cube.current, {
      keyframes: {
        "0%": {
          opacity: 1,
        },
        "50%": {
          opacity: 1,
        },
        "80%": {
          opacity: 1,
        },
        "100%": {
          opacity: 0,
        },
      },
      repeat: -1,
      duration: 5,
    });
  }, []);

  return (
    <>
      <SvgBase viewBox="0 0 290 214" styleName={styleName}>
        <g id="cubeTest" ref={cube}>
          <g id="cubeA1" clipPath="url(#clip0_365_2561)">
            <path
              id="right"
              d="M52.67 167.44V197.8L26.46 212.98V182.62L52.67 167.44Z"
              fill="#008EF7"
            />
            <path
              id="up"
              d="M52.67 167.44L26.46 182.62L0.25 167.44L26.46 152.25L52.67 167.44Z"
              fill="#40A8F5"
            />
            <path
              id="left"
              d="M26.46 182.62V212.98L0.25 197.8V167.44L26.46 182.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M26.3346 152.034C26.4122 151.989 26.5078 151.989 26.5854 152.034L52.7917 167.222L52.7948 167.223C52.7998 167.226 52.8046 167.229 52.8094 167.232C52.869 167.273 52.9084 167.336 52.9178 167.407C52.9193 167.418 52.92 167.429 52.92 167.44L52.92 167.444V197.8C52.92 197.889 52.8724 197.972 52.7953 198.016L26.588 213.195C26.5869 213.195 26.5859 213.196 26.5849 213.197C26.5753 213.202 26.5655 213.207 26.5555 213.211C26.4844 213.24 26.4029 213.236 26.3351 213.197C26.335 213.196 26.3348 213.196 26.3347 213.196L26.332 213.195L0.124705 198.016C0.0475211 197.972 0 197.889 0 197.8V167.44C0 167.44 0 167.44 0 167.44V167.44C0 167.351 0.0477141 167.268 0.125148 167.223C0.126437 167.223 0.127732 167.222 0.129031 167.221L26.3346 152.034ZM26.46 182.331L0.748751 167.44L26.46 152.539L52.1712 167.44L26.46 182.331ZM26.71 212.546V182.764L52.42 167.874V197.656L26.71 212.546ZM26.21 182.764L0.5 167.874V197.656L26.21 212.546V182.764Z"
              fill="#F7F7F7"
            />
          </g>
          <g id="cubeA8" clipPath="url(#clip7_365_2561)" className="-z-30">
            <path
              id="right_8"
              d="M236.67 91.44V121.8L210.46 136.98V106.62L236.67 91.44Z"
              fill="#008EF7"
            />
            <path
              id="up_8"
              d="M236.67 91.44L210.46 106.62L184.25 91.44L210.46 76.25L236.67 91.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_8"
              d="M210.46 106.62V136.98L184.25 121.8V91.44L210.46 106.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_8"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M210.335 76.0337C210.412 75.9888 210.508 75.9888 210.585 76.0337L236.792 91.2216L236.795 91.2233C236.8 91.2262 236.805 91.2293 236.809 91.2324C236.869 91.2725 236.908 91.3362 236.918 91.407C236.919 91.4178 236.92 91.4289 236.92 91.44L236.92 91.4444V121.8C236.92 121.889 236.872 121.972 236.795 122.016L210.588 137.195C210.587 137.195 210.586 137.196 210.585 137.197C210.575 137.202 210.565 137.207 210.555 137.211C210.484 137.24 210.403 137.236 210.335 137.197C210.335 137.196 210.335 137.196 210.335 137.196L210.332 137.195L184.125 122.016C184.048 121.972 184 121.889 184 121.8V91.44C184 91.44 184 91.44 184 91.44V91.4399C184 91.3506 184.048 91.268 184.125 91.2233C184.126 91.2226 184.128 91.2219 184.129 91.2212L210.335 76.0337ZM210.46 106.331L184.749 91.4399L210.46 76.539L236.171 91.4399L210.46 106.331ZM210.71 136.546V106.764L236.42 91.8737V121.656L210.71 136.546ZM210.21 106.764L184.5 91.8737V121.656L210.21 136.546V106.764Z"
              fill="#F7F7F7"
            />
          </g>
          <g id="cubeA7" clipPath="url(#clip5_365_2561)" className="-z-30">
            <path
              id="right_6"
              d="M289.67 91.44V121.8L263.46 136.98V106.62L289.67 91.44Z"
              fill="#008EF7"
            />
            <path
              id="up_6"
              d="M289.67 91.44L263.46 106.62L237.25 91.44L263.46 76.25L289.67 91.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_6"
              d="M263.46 106.62V136.98L237.25 121.8V91.44L263.46 106.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_6"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M263.335 76.0337C263.412 75.9888 263.508 75.9888 263.585 76.0337L289.792 91.2216L289.795 91.2233C289.8 91.2262 289.805 91.2293 289.809 91.2324C289.869 91.2725 289.908 91.3362 289.918 91.407C289.919 91.4178 289.92 91.4289 289.92 91.44L289.92 91.4444V121.8C289.92 121.889 289.872 121.972 289.795 122.016L263.588 137.195C263.587 137.195 263.586 137.196 263.585 137.197C263.575 137.202 263.565 137.207 263.555 137.211C263.484 137.24 263.403 137.236 263.335 137.197C263.335 137.196 263.335 137.196 263.335 137.196L263.332 137.195L237.125 122.016C237.048 121.972 237 121.889 237 121.8V91.44C237 91.44 237 91.44 237 91.44V91.4399C237 91.3506 237.048 91.268 237.125 91.2233C237.126 91.2226 237.128 91.2219 237.129 91.2212L263.335 76.0337ZM263.46 106.331L237.749 91.4399L263.46 76.539L289.171 91.4399L263.46 106.331ZM263.71 136.546V106.764L289.42 91.8737V121.656L263.71 136.546ZM263.21 106.764L237.5 91.8737V121.656L263.21 136.546V106.764Z"
              fill="#F7F7F7"
            />
          </g>

          <g id="cubeA5" clipPath="url(#clip1_365_2561)" className="z-50">
            <path
              id="right_2"
              d="M104.67 15.44V45.8L78.46 60.98V30.62L104.67 15.44Z"
              fill="#008EF7"
            />
            <path
              id="up_2"
              d="M104.67 15.44L78.46 30.62L52.25 15.44L78.46 0.25L104.67 15.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_2"
              d="M78.46 30.62V60.98L52.25 45.8V15.44L78.46 30.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_2"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M78.3346 0.0337C78.4122 -0.0112333 78.5078 -0.0112333 78.5854 0.0337L104.792 15.2216L104.795 15.2233C104.8 15.2262 104.805 15.2293 104.809 15.2324C104.869 15.2725 104.908 15.3362 104.918 15.407C104.919 15.4178 104.92 15.4289 104.92 15.44L104.92 15.4444V45.7999C104.92 45.8891 104.872 45.9716 104.795 46.0163L78.588 61.1947C78.5869 61.1953 78.5859 61.1959 78.5849 61.1965C78.5753 61.202 78.5655 61.2068 78.5555 61.211C78.4844 61.2404 78.4029 61.2356 78.3351 61.1965C78.335 61.1965 78.3348 61.1964 78.3347 61.1963L78.332 61.1947L52.1247 46.0163C52.0475 45.9716 52 45.8891 52 45.7999V15.44C52 15.44 52 15.44 52 15.44V15.4399C52 15.3506 52.0477 15.268 52.1251 15.2233C52.1264 15.2226 52.1277 15.2219 52.129 15.2212L78.3346 0.0337ZM78.46 30.331L52.7488 15.4399L78.46 0.53895L104.171 15.4399L78.46 30.331ZM78.71 60.5462V30.7641L104.42 15.8737V45.6558L78.71 60.5462ZM78.21 30.7641L52.5 15.8737V45.6558L78.21 60.5462V30.7641Z"
              fill="#F7F7F7"
            />
          </g>
          <g id="cubeA2" clipPath="url(#clip2_365_2561)">
            <path
              id="right_3"
              d="M104.67 106.44V136.8L78.46 151.98V121.62L104.67 106.44Z"
              fill="#008EF7"
            />
            <path
              id="up_3"
              d="M104.67 106.44L78.46 121.62L52.25 106.44L78.46 91.25L104.67 106.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_3"
              d="M78.46 121.62V151.98L52.25 136.8V106.44L78.46 121.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_3"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M78.3346 91.0337C78.4122 90.9888 78.5078 90.9888 78.5854 91.0337L104.792 106.222L104.795 106.223C104.8 106.226 104.805 106.229 104.809 106.232C104.869 106.273 104.908 106.336 104.918 106.407C104.919 106.418 104.92 106.429 104.92 106.44L104.92 106.444V136.8C104.92 136.889 104.872 136.972 104.795 137.016L78.588 152.195C78.5869 152.195 78.5859 152.196 78.5849 152.197C78.5753 152.202 78.5655 152.207 78.5555 152.211C78.4844 152.24 78.4029 152.236 78.3351 152.197C78.335 152.196 78.3348 152.196 78.3347 152.196L78.332 152.195L52.1247 137.016C52.0475 136.972 52 136.889 52 136.8V106.44C52 106.44 52 106.44 52 106.44V106.44C52 106.351 52.0477 106.268 52.1251 106.223C52.1264 106.223 52.1277 106.222 52.129 106.221L78.3346 91.0337ZM78.46 121.331L52.7488 106.44L78.46 91.539L104.171 106.44L78.46 121.331ZM78.71 151.546V121.764L104.42 106.874V136.656L78.71 151.546ZM78.21 121.764L52.5 106.874V136.656L78.21 151.546V121.764Z"
              fill="#F7F7F7"
            />
          </g>
          <g id="cubeA6" clipPath="url(#clip3_365_2561)" className="z-30">
            <path
              id="right_4"
              d="M182.67 152.44V182.8L156.46 197.98V167.62L182.67 152.44Z"
              fill="#008EF7"
            />
            <path
              id="up_4"
              d="M182.67 152.44L156.46 167.62L130.25 152.44L156.46 137.25L182.67 152.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_4"
              d="M156.46 167.62V197.98L130.25 182.8V152.44L156.46 167.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_4"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M156.335 137.034C156.412 136.989 156.508 136.989 156.585 137.034L182.792 152.222L182.795 152.223C182.8 152.226 182.805 152.229 182.809 152.232C182.869 152.273 182.908 152.336 182.918 152.407C182.919 152.418 182.92 152.429 182.92 152.44L182.92 152.444V182.8C182.92 182.889 182.872 182.972 182.795 183.016L156.588 198.195C156.587 198.195 156.586 198.196 156.585 198.197C156.575 198.202 156.565 198.207 156.555 198.211C156.484 198.24 156.403 198.236 156.335 198.197C156.335 198.196 156.335 198.196 156.335 198.196L156.332 198.195L130.125 183.016C130.048 182.972 130 182.889 130 182.8V152.44C130 152.44 130 152.44 130 152.44V152.44C130 152.351 130.048 152.268 130.125 152.223C130.126 152.223 130.128 152.222 130.129 152.221L156.335 137.034ZM156.46 167.331L130.749 152.44L156.46 137.539L182.171 152.44L156.46 167.331ZM156.71 197.546V167.764L182.42 152.874V182.656L156.71 197.546ZM156.21 167.764L130.5 152.874V182.656L156.21 197.546V167.764Z"
              fill="#F7F7F7"
            />
          </g>

          <g id="cubeA3" clipPath="url(#clip4_365_2561)">
            <path
              id="right_5"
              d="M183.67 60.44V90.8L157.46 105.98V75.62L183.67 60.44Z"
              fill="#008EF7"
            />
            <path
              id="up_5"
              d="M183.67 60.44L157.46 75.62L131.25 60.44L157.46 45.25L183.67 60.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_5"
              d="M157.46 75.62V105.98L131.25 90.8V60.44L157.46 75.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_5"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M157.335 45.0337C157.412 44.9888 157.508 44.9888 157.585 45.0337L183.792 60.2216L183.795 60.2233C183.8 60.2262 183.805 60.2293 183.809 60.2324C183.869 60.2725 183.908 60.3362 183.918 60.407C183.919 60.4178 183.92 60.4289 183.92 60.44L183.92 60.4444V90.7999C183.92 90.8891 183.872 90.9716 183.795 91.0163L157.588 106.195C157.587 106.195 157.586 106.196 157.585 106.197C157.575 106.202 157.565 106.207 157.555 106.211C157.484 106.24 157.403 106.236 157.335 106.197C157.335 106.196 157.335 106.196 157.335 106.196L157.332 106.195L131.125 91.0163C131.048 90.9716 131 90.8891 131 90.7999V60.44C131 60.44 131 60.44 131 60.44V60.4399C131 60.3506 131.048 60.268 131.125 60.2233C131.126 60.2226 131.128 60.2219 131.129 60.2212L157.335 45.0337ZM157.46 75.331L131.749 60.4399L157.46 45.539L183.171 60.4399L157.46 75.331ZM157.71 105.546V75.7641L183.42 60.8737V90.6558L157.71 105.546ZM157.21 75.7641L131.5 60.8737V90.6558L157.21 105.546V75.7641Z"
              fill="#F7F7F7"
            />
          </g>

          <g id="cubeA4" clipPath="url(#clip6_365_2561)" className="z-50">
            <path
              id="right_7"
              d="M209.67 15.44V45.8L183.46 60.98V30.62L209.67 15.44Z"
              fill="#008EF7"
            />
            <path
              id="up_7"
              d="M209.67 15.44L183.46 30.62L157.25 15.44L183.46 0.25L209.67 15.44Z"
              fill="#40A8F5"
            />
            <path
              id="left_7"
              d="M183.46 30.62V60.98L157.25 45.8V15.44L183.46 30.62Z"
              fill="#83CAFF"
            />
            <path
              id="Outline_7"
              fillRule="evenodd"
              clipRule="evenodd"
              d="M183.335 0.0337C183.412 -0.0112333 183.508 -0.0112333 183.585 0.0337L209.792 15.2216L209.795 15.2233C209.8 15.2262 209.805 15.2293 209.809 15.2324C209.869 15.2725 209.908 15.3362 209.918 15.407C209.919 15.4178 209.92 15.4289 209.92 15.44L209.92 15.4444V45.7999C209.92 45.8891 209.872 45.9716 209.795 46.0163L183.588 61.1947C183.587 61.1953 183.586 61.1959 183.585 61.1965C183.575 61.202 183.565 61.2068 183.555 61.211C183.484 61.2404 183.403 61.2356 183.335 61.1965C183.335 61.1965 183.335 61.1964 183.335 61.1963L183.332 61.1947L157.125 46.0163C157.048 45.9716 157 45.8891 157 45.7999V15.44C157 15.44 157 15.44 157 15.44V15.4399C157 15.3506 157.048 15.268 157.125 15.2233C157.126 15.2226 157.128 15.2219 157.129 15.2212L183.335 0.0337ZM183.46 30.331L157.749 15.4399L183.46 0.53895L209.171 15.4399L183.46 30.331ZM183.71 60.5462V30.7641L209.42 15.8737V45.6558L183.71 60.5462ZM183.21 30.7641L157.5 15.8737V45.6558L183.21 60.5462V30.7641Z"
              fill="#F7F7F7"
            />
          </g>
        </g>
        <defs>
          <clipPath id="clip0_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(0 152)"
            />
          </clipPath>
          <clipPath id="clip1_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(52)"
            />
          </clipPath>
          <clipPath id="clip2_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(52 91)"
            />
          </clipPath>
          <clipPath id="clip3_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(130 137)"
            />
          </clipPath>
          <clipPath id="clip4_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(131 45)"
            />
          </clipPath>
          <clipPath id="clip5_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(237 76)"
            />
          </clipPath>
          <clipPath id="clip6_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(157)"
            />
          </clipPath>
          <clipPath id="clip7_365_2561">
            <rect
              width="52.92"
              height="61.23"
              fill="white"
              transform="translate(184 76)"
            />
          </clipPath>
        </defs>
      </SvgBase>
    </>
  );
};
