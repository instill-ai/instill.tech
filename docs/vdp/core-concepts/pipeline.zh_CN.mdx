---
title: "Pipeline"
lang: "en-US"
draft: false
description: "Build end-to-end unstructured data pipelines with the unstructured data ETL tool VDP https://github.com/instill-ai/vdp"
---

A **Pipeline** is an end-to-end workflow that automates a sequence of sub-components to process unstructured data.

It is defined by a `recipe` which is essentially a JSON object componsed of multiple components:

- Trigger operator - where the pipeline starts to ingest data to be processed
- AI, Blockchain, Data connectors - a number of connectors to process or send the ingested unstructured data

```json
{
  "version": "v1alpha",
  "components": [
    {
      "id": <component-id>,
      "resource_name": <connector-resource-name>  // Source connector
    },
    {
      "id": <component-id>,
      "resource_name": <connector-resource-name>  // AI or Blockchain connector
    },
    ...
    {
      "id": <component-id>,
      "resource_name": <connector-resource-name> // Destination connector
    }
  ]
}
```

## Trigger pipeline

### Trigger via SYNC API

A pipeline in the `SYNC` mode responds to a request synchronously.
The result is sent back to the user right after the data is processed.
This is for real-time inference where low latency is of concern.
The request flow when triggering a `SYNC` pipeline is shown below:

<ZoomableImg src="/docs-assets/core-concepts/sync.svg" alt="SYNC trigger" />

VDP supports trigger a pipeline via HTTP and gRPC protocols.

### Trigger via ASYNC API

A pipeline in the `ASYNC` mode performs asynchronous workload.
The user triggers the pipeline with an asynchronous request and only receives an acknowledged response.
This mode is for use cases that requires long running workloads.

<ZoomableImg
  src="/docs-assets/core-concepts/async.svg"
  alt="ASYNC pipeline mode"
/>

### Trigger via PULL schedular (coming soon)

A pipeline in the `PULL` mode performs scheduled workload to regularly pull data
from the **Source** to process and write to destinations in the end.

<ZoomableImg
  src="/docs-assets/core-concepts/pull.svg"
  alt="Pipeline PULL mode"
/>

## State

When a pipeline is initially created, the pipeline state is determined by the pipeline's sub-components with the precedence:

- `ERROR` if **ANY** of its sub-components are in their `ERROR` state
- `UNSPECIFIED` if **ANY** of its sub-components are in their `UNSPECIFIED` state
- `INACTIVE` if **ANY** of its sub-components are in their negative state
- `ACTIVE` if **ALL** of its sub-components are in their positive state

A pipeline can be switched to `INACTIVE` state by invoking the `pipeline-backend` endpoint `/deactivate` only when its original state is `ACTIVE`.

A pipeline can be switched to `ACTIVE` state by invoking the `pipeline-backend` endpoint `/activate` only when its original state is `INACTIVE`.

<div align="center">
  <ZoomableImg
    src="/docs-assets/core-concepts/pipeline-state.svg"
    alt="The finite-state-machine (FSM) diagram for the pipeline state transition logic"
    width="500px"
  />
</div>
